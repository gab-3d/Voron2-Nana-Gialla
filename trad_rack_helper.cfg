[gcode_macro TR_HOME]
rename_existing: TR_HOME_BASE
gcode:
    TR_HOME_BASE
[gcode_macro TR_SET_ACTIVE_LANE]
rename_existing: TR_SET_ACTIVE_LANE_BASE
gcode:
    {% set SELECTOR = params.LANE|default(0)|int %}
    TR_SET_ACTIVE_LANE_BASE LANE={SELECTOR}

[gcode_macro TR_RESUME]
rename_existing: TR_RESUME_BASE
gcode:
    TR_RESUME_BASE

[gcode_macro TR_SERVO_UP]
rename_existing: TR_SERVO_UP_BASE
gcode:
    TR_SERVO_UP_BASE

[gcode_macro TR_SERVO_DOWN]
rename_existing: TR_SERVO_DOWN_BASE
gcode:
    TR_SERVO_DOWN_BASE


[gcode_macro TR_SERVO_DOWN]
rename_existing: TR_SERVO_DOWN_BASE
gcode:
    TR_SERVO_DOWN_BASE

[gcode_macro TR_LOCATE_SELECTOR]
rename_existing: TR_LOCATE_SELECTOR_BASE
gcode:
    TR_LOCATE_SELECTOR_BASE

[gcode_macro TR_RESET_ACTIVE_LANE]
rename_existing: TR_RESET_ACTIVE_LANE_BASE
gcode:
    
    TR_RESET_ACTIVE_LANE_BASE 



[gcode_macro TR_CALIBRATE_SELECTOR]
rename_existing: TR_CALIBRATE_SELECTOR_BASE
gcode:
    TR_CALIBRATE_SELECTOR_BASE

[gcode_macro TR_GO_TO_LANE]
rename_existing: TR_GO_TO_LANE_BASE
description: Ensures filament is loaded into the module for the specified lane 
gcode:
    {% set SELECTOR = params.LANE|default(0)|int %}
    TR_GO_TO_LANE_BASE LANE={SELECTOR}

[gcode_macro TR_LOAD_LANE]
rename_existing: TR_LOAD_LANE_BASE
description: Ensures filament is loaded into the module for the specified lane 
gcode:
    {% set SELECTOR = params.LANE|default(0)|int %}
    {% set RESET_SPEED = params.RESET_SPEED|default(0)|int %}
    TR_LOAD_LANE_BASE LANE={SELECTOR} RESET_SPEED={RESET_SPEED}

[gcode_macro TR_UNLOAD_TOOLHEAD]
rename_existing: TR_UNLOAD_TOOLHEAD_BASE
description: Unloads filament from the toolhead and back into its module.
gcode:
    TR_UNLOAD_TOOLHEAD_BASE

[gcode_macro TR_LOAD_TOOLHEAD]
rename_existing: TR_LOAD_TOOLHEAD_BASE
description: Loads filament from the specified lane into the toolhead.
gcode:
    {% set SELECTOR = params.LANE|default(0)|int %}
    {% set BOWDEN_LENGTH = params.BOWDEN_LENGTH|default(-1)|int %}
    {% set EXTRUDER_LOAD_LENGTH = params.EXTRUDER_LOAD_LENGTH|default(-1)|int %}
    {% set HOTEND_LOAD_LENGTH = params.HOTEND_LOAD_LENGTH|default(-1)|int %}
    TR_LOAD_TOOLHEAD_BASE LANE={SELECTOR} {% if BOWDEN_LENGTH>-1 %} BOWDEN_LENGTH={BOWDEN_LENGTH} {% endif %} {% if EXTRUDER_LOAD_LENGTH>-1 %} EXTRUDER_LOAD_LENGTH={EXTRUDER_LOAD_LENGTH} {% endif %}  {% if HOTEND_LOAD_LENGTH>-1 %} HOTEND_LOAD_LENGTH={HOTEND_LOAD_LENGTH} {% endif %}

